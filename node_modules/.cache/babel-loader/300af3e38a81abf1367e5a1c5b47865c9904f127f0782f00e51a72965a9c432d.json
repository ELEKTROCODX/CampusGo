{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\diego\\\\OneDrive\\\\Escritorio\\\\CampusGo\\\\src\\\\pages\\\\FormPageTwo.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./FormPage.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { auth, db } from '../firebase/firebase';\nimport { signInAnonymously } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport FormLayout from \"../layouts/FormLayout/FormLayout\";\nimport FormInput from \"../components/FormInput/FormInput\";\nimport Sticker2 from \"../assets/stickers/elemento2.png\";\nimport Sticker7 from \"../assets/stickers/elemento7.png\";\nimport Sticker9 from \"../assets/stickers/elemento9.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FormPageTwo() {\n  _s();\n  const navigate = useNavigate();\n  const [step, setStep] = useState(3);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    company: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n  const handleRegistration = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    const {\n      email,\n      name,\n      company\n    } = formData;\n    try {\n      const userCredential = await signInAnonymously(auth);\n      const user = userCredential.user;\n      const fcmToken = localStorage.getItem('fcmToken');\n      const userData = {\n        name,\n        email,\n        company\n      };\n      if (fcmToken) {\n        userData.fcmTokens = [fcmToken];\n        localStorage.removeItem('fcmToken');\n      }\n      await setDoc(doc(db, \"Usuarios\", user.uid), userData);\n      console.log(\"Usuario registrado y datos guardados: \", user.uid);\n      setLoading(false);\n      setStep(4);\n    } catch (error) {\n      console.error(\"Error al registrar:\", error.message);\n      setError(error.message);\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(FormLayout, {\n    children: step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"WelcomeScreen\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: Sticker2,\n        alt: \"\",\n        className: \"WelcomeScreen__sticker sticker-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: Sticker7,\n        alt: \"\",\n        className: \"WelcomeScreen__sticker sticker-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: Sticker9,\n        alt: \"\",\n        className: \"WelcomeScreen__sticker sticker-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card--welcome\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Bienvenido \", formData.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Nos alegra que seas parte de nuestro primer evento de dise\\xF1o, tenemos preparado din\\xE1micas para que conozcas un poco sobre c\\xF3mo\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \" el dise\\xF1o se toma la UCA.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Dentro de nuestra landing encontrar\\xE1s toda la informaci\\xF3n necesaria sobre este evento y mant\\xE9n tu m\\xF3vil listo porque en cada din\\xE1mica deber\\xE1s escanear un c\\xF3digo QR para marcarla como visitada.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\xA1Disfruta del evento y s\\xE9 parte de la revoluci\\xF3n del dise\\xF1o en la UCA!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-acento\",\n          onClick: () => navigate(\"/landing\"),\n          children: \"Comencemos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(FormPageTwo, \"xOhSpKxzU7JFAChUaSH9Sl4EI+I=\", false, function () {\n  return [useNavigate];\n});\n_c = FormPageTwo;\nexport default FormPageTwo;\nvar _c;\n$RefreshReg$(_c, \"FormPageTwo\");","map":{"version":3,"names":["React","useState","useNavigate","auth","db","signInAnonymously","doc","setDoc","FormLayout","FormInput","Sticker2","Sticker7","Sticker9","jsxDEV","_jsxDEV","FormPageTwo","_s","navigate","step","setStep","formData","setFormData","name","email","company","loading","setLoading","error","setError","handleChange","e","target","value","handleRegistration","preventDefault","userCredential","user","fcmToken","localStorage","getItem","userData","fcmTokens","removeItem","uid","console","log","message","children","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/diego/OneDrive/Escritorio/CampusGo/src/pages/FormPageTwo.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./FormPage.css\"; \r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { auth, db } from '../firebase/firebase';\r\nimport { signInAnonymously } from 'firebase/auth';\r\nimport { doc, setDoc } from 'firebase/firestore';\r\n\r\nimport FormLayout from \"../layouts/FormLayout/FormLayout\";\r\nimport FormInput from \"../components/FormInput/FormInput\";\r\n\r\nimport Sticker2 from \"../assets/stickers/elemento2.png\";\r\nimport Sticker7 from \"../assets/stickers/elemento7.png\";\r\nimport Sticker9 from \"../assets/stickers/elemento9.png\";\r\n\r\nfunction FormPageTwo() {\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(3);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    company: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const handleChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const handleRegistration = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    const { email, name, company } = formData;\r\n\r\n    try {\r\n      const userCredential = await signInAnonymously(auth);\r\n      const user = userCredential.user;\r\n      const fcmToken = localStorage.getItem('fcmToken');\r\n      const userData = { name, email, company };\r\n\r\n      if (fcmToken) {\r\n        userData.fcmTokens = [fcmToken];\r\n        localStorage.removeItem('fcmToken');\r\n      }\r\n\r\n      await setDoc(doc(db, \"Usuarios\", user.uid), userData);\r\n      console.log(\"Usuario registrado y datos guardados: \", user.uid);\r\n      setLoading(false);\r\n      setStep(4); \r\n    } catch (error) {\r\n      console.error(\"Error al registrar:\", error.message);\r\n      setError(error.message);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FormLayout>\r\n      {step === 3 && (\r\n        <div className=\"WelcomeScreen\">\r\n          <img src={Sticker2} alt=\"\" className=\"WelcomeScreen__sticker sticker-1\" />\r\n          <img src={Sticker7} alt=\"\" className=\"WelcomeScreen__sticker sticker-2\" />\r\n          <img src={Sticker9} alt=\"\" className=\"WelcomeScreen__sticker sticker-3\" />\r\n\r\n          <div className=\"card card--welcome\">\r\n            <h2>Bienvenido {formData.name}</h2>\r\n            <p>\r\n              Nos alegra que seas parte de nuestro primer evento de diseño,\r\n              tenemos preparado dinámicas para que conozcas un poco sobre cómo\r\n              <span><b> el diseño se toma la UCA.</b></span>\r\n            </p>\r\n            <p>\r\n              Dentro de nuestra landing encontrarás toda la información\r\n              necesaria sobre este evento y mantén tu móvil listo porque en cada\r\n              dinámica deberás escanear un código QR para marcarla como\r\n              visitada.\r\n            </p>\r\n            <p>\r\n              ¡Disfruta del evento y sé parte de la revolución del diseño en la\r\n              UCA!\r\n            </p>\r\n            <button className=\"btn btn-acento\" onClick={() => navigate(\"/landing\")}>\r\n              Comencemos\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </FormLayout>\r\n  );\r\n}\r\n\r\nexport default FormPageTwo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}